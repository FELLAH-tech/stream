doctype html
html
  head
    title Dash.js Rocks
    meta(charset='utf-8')
    link(href='https://cdn.jsdelivr.net/npm/froala-editor@latest/css/froala_editor.pkgd.min.css', rel='stylesheet', type='text/css')
    script.code(src='http://localhost:3000/dash.js/contrib/akamai/controlbar/ControlBar.js')
    // Bootstrap core CSS
    link(href='https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css' rel='stylesheet' integrity='sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65' crossorigin='anonymous')

    link(href='http://localhost:3000/dash.js/samples/lib/bootstrap/bootstrap.min.css', rel='stylesheet')
    link(rel='stylesheet', href='http://localhost:3000/dash.js/contrib/akamai/controlbar/controlbar.css')
    link(href='http://localhost:3000/dash.js/samples/lib/main.css', rel='stylesheet')
    link(rel='stylesheet' href='http://localhost:3000/css/app.css')
    link(rel='icon' type='image/svg' href='logo.png')

    style.
      video {
      width: 100%;
      border-radius: 10%;
      }
      
      .dash-video-player {
      width: 50%;
      position: relative; /* This position relative is needed to position the menus */
      margin: 0 auto;
      line-height: 1;
      background-color: black;
      }


      .navbar {

      display: flex;

      align-items: center;

      justify-content: space-between;

      padding: 20px;

      background-color: teal;

      color: #fff;

      }

    




      body {
         min-height: 100vh;
        background: linear-gradient(to bottom right, blue, pink);
       
      }
      h1 {
        color: black ;
      }
      * {
      box-sizing: border-box;
      }
      .container {
      max-width: 500px;
      margin: 60px auto;
      }



      .button {
        pointer-events: auto;
        cursor: pointer;
        background: #e7e7e7;
        border: none;
        padding: 1.5rem 3rem;
        margin: 0;
        font-family: inherit;
        font-size: inherit;
        position: relative;
        display: inline-block;
      }

      .button::before,
      .button::after {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
      }

      .button--janus {
        font-family: freight-display-pro, serif;
        font-weight: 900;
        width: 175px;
        height: 120px;
        color: #fff;
        background: none;
      }

      .button--janus::before {
        content: '';
        background: #e6e6e6;
        -webkit-clip-path: path("M154.5,88.5 C131,113.5 62.5,110 30,89.5 C-2.5,69 -3.5,42 4.5,25.5 C12.5,9 33.5,-6 85,3.5 C136.5,13 178,63.5 154.5,88.5 Z");
        clip-path: path("M154.5,88.5 C131,113.5 62.5,110 30,89.5 C-2.5,69 -3.5,42 4.5,25.5 C12.5,9 33.5,-6 85,3.5 C136.5,13 178,63.5 154.5,88.5 Z");
        transition: clip-path 0.5s cubic-bezier(0.585, 2.5, 0.645, 0.55), -webkit-clip-path 0.5s cubic-bezier(0.585, 2.5, 0.645, 0.55), background 0.5s ease;
      }

      .button--janus:hover::before {
        background: #000;
        -webkit-clip-path: path("M143,77 C117,96 74,100.5 45.5,91.5 C17,82.5 -10.5,57 5.5,31.5 C21.5,6 79,-5.5 130.5,4 C182,13.5 169,58 143,77 Z");
        clip-path: path("M143,77 C117,96 74,100.5 45.5,91.5 C17,82.5 -10.5,57 5.5,31.5 C21.5,6 79,-5.5 130.5,4 C182,13.5 169,58 143,77 Z");
      }

      .button--janus::after {
        content: '';
        height: 86%;
        width: 97%;
        top: 5%;
        border-radius: 58% 42% 55% 45% / 56% 45% 55% 44%;
        border: 1px solid #000;
        transform: rotate(-20deg);
        z-index: -1;
        transition: transform 0.5s cubic-bezier(0.585, 2.5, 0.645, 0.55);
      }

      .button--janus:hover::after {
        transform: translate3d(0,-5px,0);
      }

      .button--janus span {
        display: block;
        transition: transform 0.3s ease;
        mix-blend-mode: difference;
      }

      .button--janus:hover span {
        transform: translate3d(0,-10px,0);
      }
      .main-block {
        max-width: 800px; 
        min-height: 460px; 
        padding: 40px 0;
        margin: 30px;
        border-radius: 15px; 
        border: solid 1px #ccc;
        box-shadow: 1px 2px 5px rgba(0,0,0,.31); 
        background: #ebebeb;
          position : relative;
        right : auto;
        
      }

      .image-area img {
          z-index: 2;
          position: relative;
      }
      #upload {
          opacity: 0;
      }

      .image-area {
          border: 2px dashed rgba(255, 255, 255, 0.7);
          padding: 1rem;
          position: relative;
      }
      #upload-label {
          position: absolute;
          top: 50%;
          left: 1rem;
          transform: translateY(-50%);
      }
      .image-area::before {
          content: 'Uploaded image result';
          color: #fff;
          font-weight: bold;
          text-transform: uppercase;
          position: absolute;
          top: 50%;
          left: 50%;
          transform: translate(-50%, -50%);
          font-size: 0.8rem;
          z-index: 1;
      }
      .upload .browse input[type='file']{
          position: absolute;
          margin-top: 3px;
          margin-left: 3px;
          height: 1px;
          width: 1px;
          z-index: -5;
      }

      .logo-image{
        width: 120px;
        height: 120px;
        border-radius: 60%;
        overflow: hidden;
        margin-top: -20px;
        right : 50px;
      }
      .ouro {
      position: relative;
      display:inline-block;
      height: 46px;
      width: 46px;
      margin: 1em;
      border-radius: 50%;  
      background: none repeat scroll 0 0 #DDDDDD;
      overflow:hidden;
      box-shadow: 0 0 10px rgba(0,0,0,.1) inset, 0 0 25px rgba(0,0,255,0.075);
        }

      .ouro:after {
          content: "";
          position: absolute;
          top: 9px; left: 9px;
          display: block;
          height: 28px; width: 28px;
          background: none repeat scroll 0 0 #F2F2F2;
          border-radius: 50%;
          box-shadow: 0 0 10px rgba(0,0,0,.1);
      }
      .ouro > span {
          position: absolute;
          height: 100%; width: 50%;
          overflow: hidden;
      }
      .left  { left:0   }
      .right { left:50% }

      .anim {
          position: absolute;
          left: 100%; top: 0;
          height: 100%; width: 100%;
          border-radius: 999px;
          background: none repeat scroll 0 0 #508EC3;
          opacity: 0.8;
          -webkit-animation: ui-spinner-rotate-left 3s infinite;
          animation: ui-spinner-rotate-left 3s infinite;
          -webkit-transform-origin: 0 50% 0;
          transform-origin: 0 50% 0;
      }
      .left .anim {
          border-bottom-left-radius: 0;
          border-top-left-radius: 0;
      }
      .right .anim {
          border-bottom-right-radius: 0;
          border-top-right-radius: 0;
          left: -100%;
          -webkit-transform-origin: 100% 50% 0;
          transform-origin: 100% 50% 0;
      }

      /* v2 */
      .ouro2 .anim {
        -webkit-animation-delay:0;
        animation-delay:0;
      }
      .ouro2 .right .anim{
        -webkit-animation-delay: 1.5s;
        animation-delay: 1.5s;
      }

      /* v3 */
      .ouro3 .anim {
        -webkit-animation-delay: 0s;
        -webkit-animation-duration:3s;
        -webkit-animation-timing-function: linear;
        animation-delay: 0s;
        animation-duration:3s;
        animation-timing-function: linear;
      }
      .ouro3 .right .anim{
        -webkit-animation-name: ui-spinner-rotate-right;
        -webkit-animation-delay:0;
        -webkit-animation-delay: 1.5s;
        animation-name: ui-spinner-rotate-right;
        animation-delay:0;
        animation-delay: 1.5s;
      }

      /* round variation */
      .round .ouro:after {display:none }

      /* double variation */
      .double .ouro:after {
        height: 13px; width: 13px;
        left: 7px; top: 7px;
        border: 10px solid #ddd;
        background: transparent;
        box-shadow: none;
      }

      @keyframes ui-spinner-rotate-right{
        0%{transform:rotate(0deg)}
        25%{transform:rotate(180deg)}
        50%{transform:rotate(180deg)}
        75%{transform:rotate(360deg)}
        100%{transform:rotate(360deg)}
      }
      @keyframes ui-spinner-rotate-left{
        0%{transform:rotate(0deg)}
        25%{transform:rotate(0deg)}
        50%{transform:rotate(180deg)}
        75%{transform:rotate(180deg)}
        100%{transform:rotate(360deg)}
      }

      @-webkit-keyframes ui-spinner-rotate-right{
        0%{-webkit-transform:rotate(0deg)}
        25%{-webkit-transform:rotate(180deg)}
        50%{-webkit-transform:rotate(180deg)}
        75%{-webkit-transform:rotate(360deg)}
        100%{-webkit-transform:rotate(360deg)}
      }
      @-webkit-keyframes ui-spinner-rotate-left{
        0%{-webkit-transform:rotate(0deg)}
        25%{-webkit-transform:rotate(0deg)}
        50%{-webkit-transform:rotate(180deg)}
        75%{-webkit-transform:rotate(180deg)}
        100%{-webkit-transform:rotate(360deg)}
      }

      /*
      * Some bugs with Chrome (Android), Safari and Opera, I'll try to see how http://atomeye.com/projects/sass-css-spinner.html made his code.
      */

      /* presentation styles */

  body
      nav.navbar.navbar.sticky-top.navbar-dark.bg-dark
        .container-fluid
            a.navbar-brand(href='/')
                img(src='logo.png' alt='' width='50' height='50' style='border-radius: 35px')
            p Welcome #{user}
            .d-grid.gap-2.d-md-flex.justify-content-md-end
                a.btn.btn-dark.btn-sm.btn-danger(href='/deconnect' role='button' data-bs-toggle='button')
                    i.fa.fa-sign-out(aria-hidden='true' style="color:red; margin:6px;")
                    | Deconnect
    



    

      .container.py-5
      // For demo purpose
      header.text-white.text-center
        
        img.mb-4(src='logo.png' alt='' width='200' style='border-radius: 35px')
        p(style='font-size: xx-large;') Plus de 80 millions d'utilisateurs lui ont fait confiance
        p(style='visibility:visible; animation-name:fadeInUp;font-size: xx-large;') Télécharger des vidéos à grande vitesse depuis Amazon Prime, Netflix, Disney+
        p(style='visibility:visible; animation-name:fadeInUp;font-size: xx-large;') et plus de 1000 autres sites de streaming.
        br
        img.mb-4(src='tt.png' alt='' width='140' style='border-radius: 35px')

       

      
        .row.py-4

          .col-lg-4.mx-auto
            .main-block
          
              button.navbar-toggler(type='button', data-toggle='collapse', data-target='#navbarSupportedContent', aria-controls='navbarSupportedContent', aria-expanded='false', aria-label='Toggle navigation')
                
          
                form(action='/upload', enctype='multipart/form-data', method='post')
                  input(type='file', name='someCoolFiles', style='color:black;box-shadow: 0px 8px 15px rgba(0, 0, 0, 0.1);, 0 6px 20px 0 rgba(0,0,0,0.19); font-size:28px;border-radius: 35px; background: #e7e7e7;padding: 0.5rem 3rem;margin: 0;font-family: inherit;font-size: inherit;')
                  
                  button(style='color:black;box-shadow: 0px 8px 15px rgba(0, 0, 0, 0.1);, 0 6px 20px 0 rgba(0,0,0,0.19); font-size:28px;border-radius: 35px; background: #e7e7e7;padding: 0.5rem 3rem;margin: 0;font-family: inherit;font-size: inherit;') Upload
                  p.browse(style='color:black;')
                  strong(style='color:black;') Taille : 2 GB.
                  p.browse(style='color:black;')
                  strong(style='color:black;') Formats :mp4 .
                  strong(style='color:black;')  
                  p.browse(style='color:black;')
                  strong(style='color:black;')   
                  h1 Upload state : #{name}
                  strong(style='color:black;')  
                  p.browse(style='color:black;')
                  strong(style='color:black;')  veuillez patientez pour l'affichage de la video (cela peut prendre environ de 30s)
                  p.circle
                    span.ouro
                      span.left
                        span.anim
                      span.right
                        span.anim
         
                                                    

              
          


      .all
        script(src='https://cdn.dashjs.org/latest/dash.all.min.js')
        script(src='http://localhost:3000/dash.js/contrib/akamai/controlbar/ControlBar.js')
        .dash-video-player(style='border-radius: 35px;')
          #videoContainer.videoContainer
            video(preload='auto', autoplay='' )
            #videoController.video-controller.unselectable
              #playPauseBtn.btn-play-pause(title='Play/Pause')
                span#iconPlayPause.icon-play
              span#videoTime.time-display 00:00:00
              #fullscreenBtn.btn-fullscreen.control-icon-layout(title='Fullscreen')
                span.icon-fullscreen-enter
              #bitrateListBtn.control-icon-layout(title='Bitrate List')
                span.icon-bitrate
              input#volumebar.volumebar(type='range', value='1', min='0', max='1', step='.01')
              #muteBtn.btn-mute.control-icon-layout(title='Mute')
                span#iconMute.icon-mute-off
              #trackSwitchBtn.control-icon-layout(title='A/V Tracks')
                span.icon-tracks
              #captionBtn.btn-caption.control-icon-layout(title='Closed Caption')
                span.icon-caption
              span#videoDuration.duration-display 00:00:00
              .seekContainer
                #seekbar.seekbar.seekbar-complete
                  #seekbar-buffer.seekbar.seekbar-buffer
                  #seekbar-play.seekbar.seekbar-play
        script.
          (function(){
          var path = '#{path}';
          var url = 'http://localhost:3000/'+path+'/output.mpd';
          var videoElement = document.querySelector('.videoContainer video');
          var player = dashjs.MediaPlayer().create();
          player.initialize(videoElement, url, true);
          var controlbar = new ControlBar(player);
          controlbar.initialize();
          })();